import{Ma as h,R as P,Ya as d,d as k,l as f,p as g}from"./chunk-63OA6WAO.js";import{a as e,b as o,d as p,e as c,f as u}from"./chunk-SXCHG66Y.js";var E={BASE_URL_POKEMON:"https://pokeapi.co/api/v2/pokemon/",BASE_URL_IMAGE:"https://unpkg.com/pokeapi-sprites@2.0.2/sprites/pokemon/other/dream-world/"};var U=(()=>{var r;let i=class i{constructor(){c(this,r,void 0);this.URL_BASE=E.BASE_URL_POKEMON,u(this,r,g(d)),this.allPokemons=[],this.state=P({count:0,paginatorState:{first:0,rows:20,page:0},results:[],loading:!1}),this.pokemons=h(()=>this.state().results),this.loading=h(()=>this.state().loading)}getPaginationListPokemon(s=0){this.state.set(o(e({},this.state()),{loading:!0})),p(this,r).get(`${this.URL_BASE}?limit=1302`).pipe(k(t=>o(e({},t),{results:this.mapIndexPokemons(t.results)}))).subscribe(t=>{this.allPokemons=t.results,this.state.set(o(e({},this.state()),{count:t.count,loading:!1})),this.setPage(s)})}getPokemonById(s){return p(this,r).get(`${this.URL_BASE}/${s}`)}mapIndexPokemons(s){let t=/https:\/\/pokeapi.co\/api\/v2\/pokemon\/(\d+)\//;return s.map((n,a)=>{let m=n?.url.match(t);return o(e({},n),{index:m?parseInt(m[1]):a})})}setPokemonsFilter(s){let t=this.allPokemons;if(!s){this.state.set(o(e({},this.state()),{results:this.allPokemons}));return}let n=t.filter(a=>a.name.includes(s));this.state.set(o(e({},this.state()),{results:n}))}setPage(s){let t=this.state().paginatorState.rows,n=s*t,a=this.allPokemons.slice(n,(s+1)*t);this.state.set(o(e({},this.state()),{results:a,paginatorState:o(e({},this.state().paginatorState),{page:s,first:n})}))}};r=new WeakMap,i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"});let l=i;return l})();export{E as a,U as b};
